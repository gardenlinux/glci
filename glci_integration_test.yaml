flavors:
  flavors:
  - platform: Aliyun
    cname: ali-gardener_prod-amd64
  - platform: AWS
    cname: aws-gardener_prod-amd64
  - platform: AWS
    cname: aws-gardener_prod-arm64
  - platform: Azure
    cname: azure-gardener_prod-amd64
  - platform: Azure
    cname: azure-gardener_prod-arm64
  - platform: GCP
    cname: gcp-gardener_prod-amd64
  - platform: GCP
    cname: gcp-gardener_prod-arm64
  - platform: OpenStack
    cname: openstack-gardener_prod-amd64
publishing:
  credentials:
    type: Vault
    server: https://vault.tools.sap
    namespace: gardnlinux
    token:
    token_file:
    role_id:
    secret_id:
  manifest_source: S3
  manifest_target: S3test
  sources:
  - id: S3
    type: AWS
    config: gardenlinux
    region: eu-central-1
    bucket: gardenlinux-github-releases
  - id: S3test
    type: AWS
    config: gardenlinux-integration-test
    region: eu-central-1
    bucket: gardenlinux-test-import
  targets:
  - type: Aliyun
    source: S3
    config: gardenlinux-integration-test
    region: eu-central-1
    regions: [ eu-central-1, eu-west-1 ]
    bucket: gardenlinux-test-upload
  - type: AWS
    source: S3
    config: gardenlinux-integration-test
    region: eu-central-1
    regions: [ eu-central-1, eu-west-1 ]
    image_tags:
      include_gardenlinux_version: true
      include_gardenlinux_committish: true
      static_tags:
        sec-by-def-public-image-exception: enabled
        purpose: test
        test-type: gardener-integration
  - type: Azure
    source: S3
    config: gardenlinux-integration-test
    storage_container: gardenlinux
    resource_group: test-community-gallery
    gallery: community_gallery
    region: westeurope
    regions: [ westeurope, northeurope ]
    image_prefix: gardenlinux
    image_description: Garden Linux - a Linux for containers, based on Debian
    image_eula: https://github.com/gardenlinux/gardenlinux/blob/main/LICENSE.md
    image_release_note: https://github.com/gardenlinux/gardenlinux/releases
    image_publisher: GardenLinux
    image_offer: gardenlinux
    image_sku_prefix: gardenlinux
  - type: GCP
    source: S3
    config: gardenlinux-integration-test
    project: sap-cp-k8s-gdnlinux-gcp-test
    bucket: gardenlinux-test-images
  - type: OpenStack
    source: S3
    configs:
    - config: gardenlinux
      endpoint: https://identity-3.{region}.cloud.sap/v3
      domain: monsoon3
      project: gardenlinux
      regions: [ eu-nl-1 ]
    test: true
    variant: vm
  ocm:
    type: OCI
    config: gardenlinux
    repository: europe-docker.pkg.dev/sap-se-gcp-gardenlinux/tests
  state:
    type: AWS
    config: gardenlinux-integration-test
    region: eu-central-1
    bucket: glci-state-test
aliases:
  auditd: [ audit ]
  libc-bin: [ glibc ]
  python3-blinker: [ blinker ]
  python3-jinja2: [ Jinja2 ]
  python3-jwt: [ PyJWT ]
  python3-markupsafe: [ MarkupSafe ]
